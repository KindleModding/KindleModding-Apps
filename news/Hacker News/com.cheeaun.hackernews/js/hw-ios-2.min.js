!function(t){function e(){}function n(){var e=location.hash.slice(1),t=!1,n=f.current,e=e||d.defaultPath;n&&n!=f.previous&&(f.previous=n),f.current=e;for(var o=0,i=u.length;o<i&&!t;o++){var r,a=u[o],s=a.path,l=a.name,c=a.fn;"string"==typeof s?s.toLowerCase()==e.toLowerCase()&&(d.before.call(f,s,l),c.call(f),d.on.call(f,s,l),t=!0):(r=e.match(s))&&(d.before.call(f,s,l,r),c.apply(f,r),d.on.call(f,s,l,r),t=!0)}return t||d.notfound.call(f),f}var u=[],d={defaultPath:"/",before:e,on:e,notfound:e},f={
current:null,previous:null,config:function(e){for(var t in e)e.hasOwnProperty(t)&&(d[t]=e[t]);return f},add:function(e,t,n){return e&&t&&("function"==typeof t&&(n=t,t=null),u.push({path:e,name:t,fn:n||function(){}})),f},go:function(e){return location.hash=e,f},back:function(e){return f.previous?(history.back(),f.previous=null):e&&(location.hash=e),f}};f.init=function(e){return t.addEventListener("hashchange",n),n()},f.reload=n,t.ruto=f}(window),function(e,f){var p=e.store=function(e,t,n){
var o=p.type;return n&&n.type&&n.type in p.types&&(o=n.type),p.types[o](e,t,n||{})};p.types={},p.type=null,p.addType=function(o,e){p.type||(p.type=o),p.types[o]=e,p[o]=function(e,t,n){return(n=n||{}).type=o,p(e,t,n)}},p.error=function(){return"amplify.store quota exceeded"};var o,i,d=/^__amplify__/;function t(c,u){p.addType(c,function(t,e,n){var o,i,r,a,s=e,l=(new Date).getTime();if(!t){s={},a=[],r=0;try{for(t=u.length;t=u.key(r++);)d.test(t)&&((i=JSON.parse(u.getItem(t))
).expires&&i.expires<=l?a.push(t):s[t.replace(d,"")]=i.data);for(;t=a.pop();)u.removeItem(t)}catch(e){}return s}if(t="__amplify__"+t,e===f){if(!((i=(o=u.getItem(t))?JSON.parse(o):{expires:-1}).expires&&i.expires<=l))return i.data;u.removeItem(t)}else if(null===e)u.removeItem(t);else{i=JSON.stringify({data:e,expires:n.expires?l+n.expires:null});try{u.setItem(t,i)}catch(e){p[c]();try{u.setItem(t,i)}catch(e){throw p.error()}}}return s})}for(var n in{localStorage:1,sessionStorage:1})try{
window[n].setItem("__amplify__","x"),window[n].removeItem("__amplify__"),t(n,window[n])}catch(e){}if(!p.types.localStorage&&window.globalStorage)try{t("globalStorage",window.globalStorage[window.location.hostname]),"sessionStorage"===p.type&&(p.type="globalStorage")}catch(e){}function r(e){return e===f?f:JSON.parse(JSON.stringify(e))}!function(){if(!p.types.localStorage){var u=document.createElement("div"),d="amplify";u.style.display="none",document.getElementsByTagName("head")[0].appendChild(u)
;try{u.addBehavior("#default#userdata"),u.load(d)}catch(e){return u.parentNode.removeChild(u)}p.addType("userData",function(t,e,n){u.load(d);var o,i,r,a,s,l=e,c=(new Date).getTime();if(!t){for(l={},s=[],a=0;o=u.XMLDocument.documentElement.attributes[a++];)(i=JSON.parse(o.value)).expires&&i.expires<=c?s.push(o.name):l[o.name]=i.data;for(;t=s.pop();)u.removeAttribute(t);return u.save(d),l}if(t=(t=t.replace(
/[^\-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-")).replace(/^-/,"_-"),e===f){if(!((i=(o=u.getAttribute(t))?JSON.parse(o):{expires:-1}).expires&&i.expires<=c))return i.data;u.removeAttribute(t)}else null===e?u.removeAttribute(t):(r=u.getAttribute(t),i=JSON.stringify({data:e,expires:n.expires?c+n.expires:null}),u.setAttribute(t,i));try{u.save(d)}catch(e){null===r?u.removeAttribute(t):u.setAttribute(t,r),p.userData();try{u.setAttribute(t,i)
,u.save(d)}catch(e){throw null===r?u.removeAttribute(t):u.setAttribute(t,r),p.error()}}return l})}}(),o={},i={},p.addType("memory",function(e,t,n){return e?t===f?r(o[e]):(i[e]&&(clearTimeout(i[e]),delete i[e]),null===t?(delete o[e],null):(o[e]=t,n.expires&&(i[e]=setTimeout(function(){delete o[e],delete i[e]},n.expires)),t)):r(o)})}(this.amplify=this.amplify||{});var Hogan={};!function(e){function u(e,t,n){var o;return t&&"object"==typeof t&&(
void 0!==t[e]?o=t[e]:n&&t.get&&"function"==typeof t.get&&(o=t.get(e))),o}e.Template=function(e,t,n,o){e=e||{},this.r=e.code||this.r,this.c=n,this.options=o||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(e,t,n){return""},v:function(e){return e=s(e),a.test(e)?e.replace(t,"&amp;").replace(n,"&lt;").replace(o,"&gt;").replace(i,"&#39;").replace(r,"&quot;"):e},t:s,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n
){return this.r(e,t,n)},ep:function(e,t){var n=this.partials[e],o=t[n.name];if(n.instance&&n.base==o)return n.instance;if("string"==typeof o){if(!this.c)throw new Error("No compiler available.");o=this.c.compile(o,this.options)}if(!o)return null;if(this.partials[e].base=o,n.subs){for(key in t.stackText||(t.stackText={}),n.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);o=function(e,t,n,o,i,r){function a(){}
function s(){}var l;s.prototype=(a.prototype=e).subs;var c=new a;for(l in c.subs=new s,c.subsText={},c.buf="",o=o||{},c.stackSubs=o,c.subsText=r,t)o[l]||(o[l]=t[l]);for(l in o)c.subs[l]=o[l];for(l in i=i||{},c.stackPartials=i,n)i[l]||(i[l]=n[l]);for(l in i)c.partials[l]=i[l];return c}(o,n.subs,n.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=o},rp:function(e,t,n,o){var i=this.ep(e,n);return i?i.ri(t,n,o):""},rs:function(e,t,n){var o=e[e.length-1];if(d(o)
)for(var i=0;i<o.length;i++)e.push(o[i]),n(e,t,this),e.pop();else n(e,t,this)},s:function(e,t,n,o,i,r,a){var s;return(!d(e)||0!==e.length)&&("function"==typeof e&&(e=this.ms(e,t,n,o,i,r,a)),s=!!e,!o&&s&&t&&t.push("object"==typeof e?e:t[t.length-1]),s)},d:function(e,t,n,o){var i,r=e.split("."),a=this.f(r[0],t,n,o),s=this.options.modelGet,l=null;if("."===e&&d(t[t.length-2]))a=t[t.length-1];else for(var c=1;c<r.length;c++)a=void 0!==(i=u(r[c],a,s))?(l=a,i):"";return!(o&&!a)&&(
o||"function"!=typeof a||(t.push(l),a=this.mv(a,t,n),t.pop()),a)},f:function(e,t,n,o){for(var i=!1,r=!1,a=this.options.modelGet,s=t.length-1;0<=s;s--)if(void 0!==(i=u(e,t[s],a))){r=!0;break}return r?(o||"function"!=typeof i||(i=this.mv(i,t,n)),i):!o&&""},ls:function(e,t,n,o,i,r){var a=this.options.delimiters;return this.options.delimiters=r,this.b(this.ct(s(e.call(t,i,n)),t,o)),this.options.delimiters=a,!1},ct:function(e,t,n){if(this.options.disableLambda)throw new Error(
"Lambda features disabled.");return this.c.compile(e,this.options).render(t,n)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,n,o,i,r,a){var s,l=t[t.length-1],c=e.call(l);return"function"==typeof c?!!o||(s=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(c,l,t,n,s.substring(i,r),a)):c},mv:function(e,t,n){var o=t[t.length-1],i=e.call(o);return"function"==typeof i?this.ct(s(i.call(o)),o,n):i
},sub:function(e,t,n,o){var i=this.subs[e];i&&(this.activeSub=e,i(t,n,this,o),this.activeSub=!1)}};var t=/&/g,n=/</g,o=/>/g,i=/\'/g,r=/\"/g,a=/[&<>\"\']/;function s(e){return String(null==e?"":e)}var d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),function(s){var l=!!s.XDomainRequest,c="withCredentials"in new XMLHttpRequest||l,u=!1,d={};try{(u=new Worker("js/hnapi-worker.js")).addEventListener("message",
function(e){var t,n,o,i=e.data,r=i.url||"";d[r]&&(n=(t=d[r]).error,o=t.success,delete d[r],i.error?n(i.error):o(i.response))},!1)}catch(e){}function r(t,e,n){var o,i,r,a;e=e||function(){},n=n||function(){},c?u?(d[t]={success:e,error:n},u.postMessage({url:t,timeout:2e4})):((o=d[t]||new(l?XDomainRequest:XMLHttpRequest))._timeout&&clearTimeout(o._timeout),o._timeout=setTimeout(function(){o.abort()},2e4),o.onload=function(){clearTimeout(this._timeout),delete d[t];try{e(JSON.parse(this.responseText))
}catch(e){n(e)}},o.onerror=o.onabort=o.ontimeout=function(e){clearTimeout(this._timeout),delete d[t],n(e)},(o.readyState<=1||l)&&(o.open("GET",t,!0),o.send()),d[t]=o):(r=(i=s.document).createElement("script"),a="callback"+ +new Date,s[a]=e,r.onerror=n,r.src=t+"?callback="+a,i.body.appendChild(r))}var a=["https://node-hnapi-eu.herokuapp.com/","https://node-hnapi.azurewebsites.net/","https://node-hnapi-eus.azurewebsites.net/"];!function(e){for(var t=e.length-1;0<t;t--){var n=Math.floor(
Math.random()*(t+1)),o=e[t];e[t]=e[n],e[n]=o}}(a),a.unshift("https://api.hackerwebapp.com/");function o(e,t,n){r(a[0]+e,t,function(){p(0,e,t,n)})}var f=a.length,p=function(e,t,n,o){var i=e<f-1?function(){p(e+1,t,n,o)}:o;r(a[e]+t,n,i)},e={urls:a,news:function(e,t){o("news",e,t)},news2:function(e,t){o("news2",e,t)},item:function(e,t,n){o("item/"+e,t,n)},comments:function(e,t,n){o("comments/"+e,t,n)}};s.hnapi=e}(window),function(e,t){"function"==typeof define&&define.amd?define("tappable",[],
function(){return t(e,window.document),e.tappable}):t(e,window.document)}(this,function(e,L){function t(){}function M(e,t){var n=L.elementFromPoint(e,t);return 3==n.nodeType&&(n=n.parentNode),n}function n(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")}function x(e,t){t&&(e.classList?e.classList.add(t):-1<n(e.className).indexOf(t)||(e.className=n(e.className+" "+t)))}function I(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)")
,"$1"))}function N(e,t){for(var n,o,i,r=!1;n=e,o=t,i=void 0,!(r=((i=L.documentElement).matchesSelector||i.mozMatchesSelector||i.webkitMatchesSelector||i.oMatchesSelector||i.msMatchesSelector).call(n,o))&&(e=e.parentNode)&&e.ownerDocument;);return!!r&&e}var C=Math.abs,A={noScroll:!1,activeClass:"tappable-active",onTap:t,onStart:t,onMove:t,onMoveOut:t,onMoveIn:t,onEnd:t,onCancel:t,allowClick:!1,boundMargin:50,noScrollDelay:0,activeClassDelay:0,inactiveClassDelay:0},o="ontouchend"in document,q={
start:o?"touchstart":"mousedown",move:o?"touchmove":"mousemove",end:o?"touchend":"mouseup"};e.tappable=function(o,e){"function"==typeof e&&(e={onTap:e});var r={};for(var t in A)r[t]=e[t]||A[t];function n(e){var t,n=N(function(e){var t=e.target;if(t)return 3==t.nodeType&&(t=t.parentNode),t;var n=e.targetTouches[0];return M(n.clientX,n.clientY)}(e),o);n&&(T?(clearTimeout(m),m=setTimeout(function(){x(n,g)},T)):x(n,g),E&&n==u&&clearTimeout(h),d=e.clientX,f=e.clientY,d&&f||(t=e.targetTouches[0],
d=t.clientX,f=t.clientY),c=n,y=w=!1,p=S?n.getBoundingClientRect():null,k&&(clearTimeout(v),S=!1,v=setTimeout(function(){S=!0},k)),r.onStart.call(b,e,n))}function i(e){var t,n,o,i;c&&(S?e.preventDefault():clearTimeout(m),i=e.target,n=e.clientX,o=e.clientY,i&&n&&o||(t=e.changedTouches[0],n=n||t.clientX,o=o||t.clientY,i=i||M(n,o)),S?n>p.left-_&&n<p.right+_&&o>p.top-_&&o<p.bottom+_?(y=!1,x(c,g),r.onMoveIn.call(b,e,i)):(y=!0,I(c,g),r.onMoveOut.call(b,e,i)):!w&&10<C(o-f)&&(w=!0,I(c,g),r.onCancel.call(
i,e)),r.onMove.call(b,e,i))}function a(e){var t,n;c&&(clearTimeout(m),E?(T&&!w&&x(c,g),t=c,h=setTimeout(function(){I(t,g)},E)):I(c,g),r.onEnd.call(b,e,c),n=3==e.which||2==e.button,w||y||n||r.onTap.call(b,e,c),u=c,c=null,setTimeout(function(){d=f=null},400))}function s(e){c&&(I(c,g),c=d=f=null,r.onCancel.call(b,e))}function l(e){N(e.target,o)?e.preventDefault():d&&f&&C(e.clientX-d)<25&&C(e.clientY-f)<25&&(e.stopPropagation(),e.preventDefault())}var c,u,d,f,p,m,h,v,b=r.containerElement||L.body,
w=!1,y=!1,g=r.activeClass,T=r.activeClassDelay,E=r.inactiveClassDelay,S=r.noScroll,k=r.noScrollDelay,_=r.boundMargin;return b.addEventListener(q.start,n,!1),b.addEventListener(q.move,i,!1),b.addEventListener(q.end,a,!1),b.addEventListener("touchcancel",s,!1),r.allowClick||b.addEventListener("click",l,!1),{el:b,destroy:function(){return b.removeEventListener(q.start,n,!1),b.removeEventListener(q.move,i,!1),b.removeEventListener(q.end,a,!1),b.removeEventListener("touchcancel",s,!1),
r.allowClick||b.removeEventListener("click",l,!1),this}}}}),function(){var e;"performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1&&(e=window.performance.timing&&window.performance.timing.navigationStart?window.performance.timing.navigationStart:Date.now(),window.performance.now=function(){return Date.now()-e})}();var TWEEN=TWEEN||function(){var n=[];return{getAll:function(){return n},removeAll:function(){n=[]
},add:function(e){n.push(e)},remove:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1)},update:function(e){if(0===n.length)return!1;var t=0;for(e=void 0!==e?e:window.performance.now();t<n.length;)n[t].update(e)?t++:n.splice(t,1);return!0}}}();TWEEN.Tween=function(e){var c=e,u={},d={},f={},p=1e3,m=0,h=!1,n=!1,v=0,b=null,w=TWEEN.Easing.Linear.None,y=TWEEN.Interpolation.Linear,g=[],T=null,E=!1,S=null,k=null,t=null;for(var o in e)u[o]=parseFloat(e[o],10);this.to=function(e,t){return void 0!==t&&(
p=t),d=e,this},this.start=function(e){for(var t in TWEEN.add(this),E=!(n=!0),b=void 0!==e?e:window.performance.now(),b+=v,d){if(d[t]instanceof Array){if(0===d[t].length)continue;d[t]=[c[t]].concat(d[t])}void 0!==u[t]&&(u[t]=c[t],u[t]instanceof Array==!1&&(u[t]*=1),f[t]=u[t]||0)}return this},this.stop=function(){return n&&(TWEEN.remove(this),n=!1,null!==t&&t.call(c),this.stopChainedTweens()),this},this.stopChainedTweens=function(){for(var e=0,t=g.length;e<t;e++)g[e].stop()},this.delay=function(e
){return v=e,this},this.repeat=function(e){return m=e,this},this.yoyo=function(e){return h=e,this},this.easing=function(e){return w=e,this},this.interpolation=function(e){return y=e,this},this.chain=function(){return g=arguments,this},this.onStart=function(e){return T=e,this},this.onUpdate=function(e){return S=e,this},this.onComplete=function(e){return k=e,this},this.onStop=function(e){return t=e,this},this.update=function(e){var t,n,o,i,r,a;if(e<b)return!0;for(t in!1===E&&(null!==T&&T.call(c),
E=!0),o=w(n=1<(n=(e-b)/p)?1:n),d){void 0!==u[t]&&(i=u[t]||0,(r=d[t])instanceof Array?c[t]=y(r,o):("string"==typeof r&&(r=r.startsWith("+")||r.startsWith("-")?i+parseFloat(r,10):parseFloat(r,10)),"number"==typeof r&&(c[t]=i+(r-i)*o)))}if(null!==S&&S.call(c,o),1!==n)return!0;if(0<m){for(t in isFinite(m)&&m--,f){"string"==typeof d[t]&&(f[t]=f[t]+parseFloat(d[t],10)),h&&(a=f[t],f[t]=d[t],d[t]=a),u[t]=f[t]}return h&&0,b=e+v,!0}null!==k&&k.call(c);for(var s=0,l=g.length;s<l;s++)g[s].start(b+p)
;return!1}},TWEEN.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){
return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}
},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,n=.1;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*--e)*Math.sin((e-t)*(2*Math.PI)/.4)))},Out:function(e){var t,n=.1;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI
)/.4)+1)},InOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(t=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*--e)*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*--e)*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(e){return e*e*(2.70158*e-1.70158)},Out:function(e){return--e*e*(2.70158*e+1.70158)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((1+t)*e-t)*.5:.5*((e-=2)*e*((1+t)*e+t)+2)}},Bounce:{In:function(e){return 1-TWEEN.Easing.Bounce.Out(1-e)
},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*TWEEN.Easing.Bounce.In(2*e):.5*TWEEN.Easing.Bounce.Out(2*e-1)+.5}}},TWEEN.Interpolation={Linear:function(e,t){var n=e.length-1,o=n*t,i=Math.floor(o),r=TWEEN.Interpolation.Utils.Linear;return t<0?r(e[0],e[1],o):1<t?r(e[n],e[n-1],n-o):r(e[i],e[n<i+1?n:i+1],o-i)},Bezier:function(e,t){for(var n=0,o=e.length-1,
i=Math.pow,r=TWEEN.Interpolation.Utils.Bernstein,a=0;a<=o;a++)n+=i(1-t,o-a)*i(t,a)*e[a]*r(o,a);return n},CatmullRom:function(e,t){var n=e.length-1,o=n*t,i=Math.floor(o),r=TWEEN.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(o=n*(1+t))),r(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],o-i)):t<0?e[0]-(r(e[0],e[0],e[1],e[1],-o)-e[0]):1<t?e[n]-(r(e[n],e[n],e[n-1],e[n-1],o-n)-e[n]):r(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],o-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},
Bernstein:function(e,t){var n=TWEEN.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var o=[1];return function(e){var t=1;if(o[e])return o[e];for(var n=e;1<n;n--)t*=n;return o[e]=t}}(),CatmullRom:function(e,t,n,o,i){var r=.5*(n-e),a=.5*(o-t),s=i*i;return(2*t-2*n+r+a)*(i*s)+(-3*t+3*n-2*r-a)*s+r*i+t}}},function(e){"function"==typeof define&&define.amd?define([],function(){return TWEEN}
):"undefined"!=typeof module&&"object"==typeof exports?module.exports=TWEEN:void 0!==e&&(e.TWEEN=TWEEN)}(this),function(){for(var r=0,e=["webkit","moz"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),o=Math.max(0,16-(n-r))
,i=window.setTimeout(function(){e(n+o)},o);return r=n+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(e){TEMPLATES={"comments-toggle":new e({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<button class="comments-toggle">'),o.b(o.v(o.f("comments_count",e,t,0))),o.b(" "),o.b(o.v(o.f("i_reply",e,t,0))),o.b("</button>"),o.fl()},partials:{},subs:{}}),comments:new e({code:function(e,t,n){var o=this;return o.b(n=n||""),o.s(o.f(
"comments",e,t,1),e,t,0,13,418,"{{ }}")&&(o.rs(e,t,function(e,t,n){n.b('<li><p class="metadata '),n.s(n.f("deleted",e,t,1),e,t,0,48,55,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("deleted")}),e.pop()),n.b('">'),n.s(n.f("deleted",e,t,1),e,t,0,81,103,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<span>[deleted]</span>")}),e.pop()),n.s(n.f("deleted",e,t,1),e,t,1,0,0,"")||(n.b('<a href="https://news.ycombinator.com/user?id='),n.b(n.v(n.f("user",e,t,0))),n.b('" target="_blank"><b class="user">'),n.b(n.v(n.f(
"user",e,t,0))),n.b("</b></a>")),n.b('<time><a href="https://news.ycombinator.com/item?id='),n.b(n.v(n.f("id",e,t,0))),n.b('" target="_blank">'),n.b(n.v(n.f("time_ago",e,t,0))),n.b("</a></time></p>"),n.s(n.f("deleted",e,t,1),e,t,1,0,0,"")||(n.b("<p>"),n.b(n.t(n.f("content",e,t,0))),n.b("<ul>"),n.b(n.rp("<comments_list0",e,t,"")),n.b("</ul>")),n.b("</li>")}),e.pop()),o.fl()},partials:{"<comments_list0":{name:"comments_list",partials:{},subs:{}}},subs:{}}),"post-comments":new e({code:function(e,t,
n){var o=this;return o.b(n=n||""),o.b('<div class="post-content">'),o.s(o.f("has_post",e,t,1),e,t,0,39,573,"{{ }}")&&(o.rs(e,t,function(e,t,n){n.b('<header><a href="'),n.b(n.v(n.f("url",e,t,0))),n.b('" target="_blank"><h1>'),n.b(n.v(n.f("title",e,t,0))),n.b("</h1>"),n.s(n.f("user",e,t,1),e,t,0,108,171,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("domain",e,t,1),e,t,0,119,160,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<span class="link-text">'),n.b(n.v(n.f("domain",e,t,0))),n.b("</span>")}),e.pop())
}),e.pop()),n.b('</a><p class="metadata">'),n.s(n.f("user",e,t,1),e,t,0,213,408,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<span class="inline-block">'),n.b(n.v(n.f("points",e,t,0))),n.b(" "),n.b(n.v(n.f("i_point",e,t,0))),n.b(" by "),n.b(n.v(n.f("user",e,t,0))),n.b('</span> <span class="inline-block">'),n.b(n.v(n.f("time_ago",e,t,0))),n.s(n.f("comments_count",e,t,1),e,t,0,340,382,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" &middot; "),n.b(n.v(n.f("comments_count",e,t,0))),n.b(" "),n.b(n.v(n.f(
"i_comment",e,t,0)))}),e.pop()),n.b("</span>")}),e.pop()),n.s(n.f("user",e,t,1),e,t,1,0,0,"")||(n.b('<span class="inline-block">'),n.b(n.v(n.f("time_ago",e,t,0))),n.b("</span>")),n.b('<a href="'),n.b(n.v(n.f("hn_url",e,t,0))),n.b('" target="_blank" class="external-link">'),n.b(n.v(n.f("short_hn_url",e,t,0))),n.b("</a></p></header>")}),e.pop()),o.s(o.f("has_content",e,t,1),e,t,0,602,925,"{{ }}")&&(o.rs(e,t,function(e,t,n){n.b('<section class="grouped-tableview">'),n.b(n.t(n.f("content",e,t,0))),
n.s(n.f("has_poll",e,t,1),e,t,0,663,902,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<ul class="poll">'),n.s(n.f("poll",e,t,1),e,t,0,689,888,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<li title="'),n.b(n.v(n.f("percentage",e,t,0))),n.b('%"><span class="poll-details"><b>'),n.b(n.v(n.f("item",e,t,0))),n.b('</b> <span class="points">'),n.b(n.v(n.f("points",e,t,0))),n.b(" "),n.b(n.v(n.f("i_point",e,t,0))),n.b('</span></span><div class="poll-bar"><span style="width: '),n.b(n.v(n.f("width",e,t,0))),n.b(
'"></span></div></li>')}),e.pop()),n.b("</ul>")}),e.pop()),n.b("</section>")}),e.pop()),o.b('</div><section class="comments">'),o.s(o.f("loading",e,t,1),e,t,0,985,1055,"{{ }}")&&(o.rs(e,t,function(e,t,n){n.b('<div class="loader"><i class="icon-loading"></i> Loading&hellip;</div>')}),e.pop()),o.s(o.f("load_error",e,t,1),e,t,0,1082,1165,"{{ }}")&&(o.rs(e,t,function(e,t,n){n.b('<div class="load-error">Couldn\'t load comments.<br><button>Try again</button></div>')}),e.pop()),o.s(o.f("loading",e,t,1)
,e,t,1,0,0,"")||o.s(o.f("load_error",e,t,1),e,t,1,0,0,"")||(o.s(o.f("has_comments",e,t,1),e,t,0,1224,1251,"{{ }}")&&(o.rs(e,t,function(e,t,n){n.b("<ul>"),n.b(n.rp("<comments_list0",e,t,"")),n.b("</ul>")}),e.pop()),o.s(o.f("has_comments",e,t,1),e,t,1,0,0,"")||o.b('<p class="no-comments">No comments.</p>')),o.b("</section>"),o.fl()},partials:{"<comments_list0":{name:"comments_list",partials:{},subs:{}}},subs:{}}),post:new e({code:function(e,t,n){var o=this;return o.b(n=n||""),o.b('<li id="story-')
,o.b(o.v(o.f("id",e,t,0))),o.b('" data-index="'),o.b(o.v(o.f("i",e,t,0))),o.b('" class="post-'),o.b(o.v(o.f("type",e,t,0))),o.b('"><a href="'),o.b(o.v(o.f("url",e,t,0))),o.b('" class="'),o.s(o.f("detail_disclosure",e,t,1),e,t,0,110,127,"{{ }}")&&(o.rs(e,t,function(e,t,n){n.b("detail-disclosure")}),e.pop()),o.s(o.f("disclosure",e,t,1),e,t,0,164,174,"{{ }}")&&(o.rs(e,t,function(e,t,n){n.b("disclosure")}),e.pop()),o.b(" "),o.s(o.f("selected",e,t,1),e,t,0,203,211,"{{ }}")&&(o.rs(e,t,function(e,t,n){
n.b("selected")}),e.pop()),o.b('"><div class="number">'),o.b(o.v(o.f("i",e,t,0))),o.b('</div><div class="story"><b>'),o.b(o.v(o.f("title",e,t,0))),o.b("</b>"),o.s(o.f("user",e,t,1),e,t,0,301,585,"{{ }}")&&(o.rs(e,t,function(e,t,n){n.b('<div class="metadata">'),n.s(n.f("domain",e,t,1),e,t,0,334,373,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<div class="link-text">'),n.b(n.v(n.f("domain",e,t,0))),n.b("</div>")}),e.pop()),n.b('<span class="inline-block">'),n.b(n.v(n.f("points",e,t,0))),n.b(" "),n.b(
n.v(n.f("i_point",e,t,0))),n.b(" by "),n.b(n.v(n.f("user",e,t,0))),n.b('</span> <span class="inline-block">'),n.b(n.v(n.f("time_ago",e,t,0))),n.s(n.f("comments_count",e,t,1),e,t,0,511,553,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" &middot; "),n.b(n.v(n.f("comments_count",e,t,0))),n.b(" "),n.b(n.v(n.f("i_comment",e,t,0)))}),e.pop()),n.b("</span></div>")}),e.pop()),o.s(o.f("user",e,t,1),e,t,1,0,0,"")||(o.b('<div class="metadata">'),o.s(o.f("domain",e,t,1),e,t,0,636,681,"{{ }}")&&(o.rs(e,t,function(
e,t,n){n.b('<span class="link-text">'),n.b(n.v(n.f("domain",e,t,0))),n.b("</span><br>")}),e.pop()),o.b('<span class="inline-block">'),o.b(o.v(o.f("time_ago",e,t,0))),o.b("</span></div>")),o.b("</div></a>"),o.s(o.f("detail_disclosure",e,t,1),e,t,0,785,859,"{{ }}")&&(o.rs(e,t,function(e,t,n){n.b('<a href="#/item/'),n.b(n.v(n.f("id",e,t,0))),n.b('" class="detail-disclosure-button"><span></span></a>')}),e.pop()),o.b("</li>"),o.fl()},partials:{},subs:{}}),"stories-load":new e({code:function(e,t,n){
var o=this;return o.b(n=n||""),o.s(o.f("loading",e,t,1),e,t,0,12,82,"{{ }}")&&(o.rs(e,t,function(e,t,n){n.b('<div class="loader"><i class="icon-loading"></i> Loading&hellip;</div>')}),e.pop()),o.s(o.f("load_error",e,t,1),e,t,0,109,161,"{{ }}")&&(o.rs(e,t,function(e,t,n){n.b('<div class="load-error">Couldn\'t load stories.</div>')}),e.pop()),o.fl()},partials:{},subs:{}})}}(Hogan.Template),function(e){var g=e.document,d=e.$=function(e){return g.getElementById(e)},r={},T={pub:function(e,t){
var n=r[e];if(n)for(var o=0,i=n.length;o<i;o++)n[o].call(this,t)},sub:function(e,t){r[e]||(r[e]=[]),r[e].push(t)},currentView:null,hideAllViews:function(){for(var e=g.querySelectorAll(".view"),t=0,n=e.length;t<n;t++)e[t].classList.add("hidden")},tmpl:function(e,t){var n=TEMPLATES[e];if(n)return t?n.render(t):n},setTitle:function(e){var t="HackerWeb";e&&(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase()!=t.toLowerCase()&&(t=e+" – "+t),document.title=t}},E=T.tmpl
;amplify.store.sessionStorage&&"function"==typeof amplify.store.sessionStorage||(amplify.store.sessionStorage=amplify.store.memory);function S(e){if(i=s[e])return i;a.href=e;var t=a.hostname.replace(/^www\./,""),n=a.pathname.replace(/^\//,"").split("/")[0],o=n.length,i=t+(t.length<=25&&3<o&&o<=15&&/^[^0-9][^.]+$/.test(n)?"/"+n:"");return s[e]=i}var a=g.createElement("a"),s={},l=g.querySelector("#view-home .scroll").querySelector("section"),c=!1;T.news={options:{disclosure:!0},
markupStory:function(e){return/^item/i.test(e.url)?e.url="#/item/"+e.id:(e.external=!0,e.domain=S(e.url)),T.news.options.disclosure?("link"==e.type&&(e.detail_disclosure=!0),/^#\//.test(e.url)&&(e.detail_disclosure=!1,e.disclosure=!0,e.domain=null)):e.id&&(e.url="#/item/"+e.id),e.i_point=1==e.points?"point":"points",e.i_comment=1==e.comments_count?"comment":"comments",E("post",e)},markupStories:function(e,t){var n="";t=t||1;var o=T.news.markupStory;return e.forEach(function(e){e.i=t++,n+=o(e)}),
n},updateStory:function(e){if(e&&e.id){var n,o,t,i=e.id,r=e.data,a="hacker-news",s=amplify.store(a);if(s)for(var l=0,c=s.length;l<c;l++){if(i==(u=s[l]).id){n=u;break}}if(!n&&(a="hacker-news2",s=amplify.store(a)))for(var u,l=0,c=s.length;l<c;l++){if(i==(u=s[l]).id){n=u;break}}n&&(o=!1,["title","url","time_ago","comments_count","points"].forEach(function(e){var t=r[e];n[e]!=t&&(n[e]=t,o=!0)}),o&&(amplify.store(a,s),(t=d("story-"+i))&&(n.selected=!!t.querySelector("a[href].selected"),
n.i=t.dataset?t.dataset.index:t.getAttribute("data-index"),t.insertAdjacentHTML("afterend",T.news.markupStory(n)),t.parentNode.removeChild(t))))}},render:function(e){var t,n,o,i,r,a;c||(e=e||{},t=amplify.store("hacker-news-cached"),n=E("stories-load"),o=function(e){var t=e.slice(),n='<ul class="tableview tableview-links" id="hwlist">'+T.news.markupStories(t)+(amplify.store("hacker-news2")?'<li><a class="more-link">More&hellip;<span class="loader"><i class="icon-loading"></i></span></a></li>':""
)+"</ul>";l.innerHTML=n,T.pub("onRenderNews")},t?(i=amplify.store("hacker-news"),(r=e.delay)?(c=!0,l.innerHTML=n.render({loading:!0}),setTimeout(function(){c=!1,o(i)},r)):o(i)):(c=!0,l.innerHTML=n.render({loading:!0}),a=function(){l.innerHTML=n.render({load_error:!0}),T.pub("logAPIError","news")},hnapi.news(function(e){c=!1,e&&!e.error?(amplify.store("hacker-news",e),amplify.store("hacker-news-cached",!0,{expires:6e5}),amplify.store("hacker-news2",null),o(e),hnapi.news2(function(e){
e&&!e.error&&(amplify.store("hacker-news2",e),d("hwlist").insertAdjacentHTML("beforeend",'<li><a class="more-link">More&hellip;<span class="loader"></span></a></li>'))})):a()},function(e){c=!1,a()})))},reload:function(){T.news.render({delay:300})},more:function(o){var i;o.classList.contains("loading")||(o.classList.add("loading"),i=amplify.store("hacker-news2"),setTimeout(function(){o.classList.remove("loading");var e,t,n=o.parentNode;n&&(n.parentNode&&n.parentNode.removeChild(n),i&&(e=i.slice()
,t=T.news.markupStories(e,31),d("hwlist").insertAdjacentHTML("beforeend",t)))},400))}};var t=d("view-comments"),k=t.querySelector("header h1"),_=t.querySelector("section");T.comments={currentID:null,render:function(t){if(t){var e=amplify.store.sessionStorage("hacker-item-"+t);if(T.comments.currentID!=t||!e){T.comments.currentID=t;function n(e,t){var n=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(e),o=E("post-comments");if(n.has_post=!!n.title,!n.has_post
)return T.setTitle(),k.innerText="",_.innerHTML=o.render(n),T.pub("adjustCommentsSection"),void T.pub("onRenderComments");var i,r,a=E("comments");/^item/i.test(n.url)?n.url="//news.ycombinator.com/"+n.url:n.domain=S(n.url),n.has_comments=n.comments&&!!n.comments.length,n.i_point=1==n.points?"point":"points",n.i_comment=1==n.comments_count?"comment":"comments",n.has_content=!!n.content,n.poll&&(r=i=0,n.poll.forEach(function(e){var t=e.points;r<t&&(r=t),i+=t,e.i_point=1==t?"point":"points"}),
n.poll.forEach(function(e){var t=e.points;e.percentage=(t/i*100).toFixed(1),e.width=(t/r*100).toFixed(1)+"%"}),n.has_poll=n.has_content=!0),n.short_hn_url="news.ycombinator.com/item?id="+t,n.hn_url="//"+n.short_hn_url,T.setTitle(n.title),k.innerText=n.title;var s=o.render(n,{comments_list:a}),l=g.createElement("div");l.innerHTML=s;for(var c=l.querySelectorAll("a"),u=0,d=c.length;u<d;u++){c[u].target="_blank"}var f=n.user;if(f)for(var p=l.querySelectorAll(".user"),u=0,d=p.length;u<d;u++){
var m=p[u];m.textContent.trim()==f&&(m.classList.add("op"),m.title="Original Poster")}if(2e4<s.length)for(var h=l.querySelectorAll(".comments>ul>li>ul"),v=E("comments-toggle"),b=0,d=h.length;b<d;b++){var w=h[b],y=w.querySelectorAll(".metadata").length;w.style.display="none",y&&w.insertAdjacentHTML("beforebegin",v.render({comments_count:y,i_reply:1==y?"reply":"replies"}))}for(;_.hasChildNodes();)_.removeChild(_.childNodes[0]);for(;l.hasChildNodes();)_.appendChild(l.childNodes[0]);delete l,T.pub(
"onRenderComments")}if(e)_.scrollTop=0,n(e,t);else{var o=amplify.store("hacker-news");if(o)for(var i=0,r=o.length;i<r;i++){var a=o[i];if(t==a.id){e=a;break}}if(!e)if(o=amplify.store("hacker-news2"))for(i=0,r=o.length;i<r;i++){a=o[i];if(t==a.id){e=a;break}}e?(e.loading=!0,n(e,t)):n({loading:!0},t);function s(){e?(delete e.loading,e.load_error=!0,n(e,t)):n({load_error:!0},t),T.pub("logAPIError","comments")}hnapi.item(t,function(e){T.comments.currentID==t&&(!e||e.error&&"comments"==T.currentView?s(
):(amplify.store.sessionStorage("hacker-item-"+t,e,{expires:3e5}),T.news.updateStory({id:t,data:e}),n(e,t)))},function(e){T.comments.currentID==t&&s()})}}}},toggle:function(e){var t,n,o=e.nextElementSibling;o&&(t=o.style,n=_.scrollTop,t.display="none"==t.display?"":"none",_.scrollTop=n)},reload:function(){T.comments.currentID=null,ruto.reload()}},T.init=function(){T.news.render(),ruto.init(),function e(){var t,n,o,i,r,a,s=Array.from(document.styleSheets).find(function(e){return/hw.*\.css/i.test(
e.href)});function l(e){"dark"===e?(t.media.mediaText="screen",o.content="dark"):"light"===e?(t.media.mediaText="not all",o.content="light"):(t.media.mediaText="(prefers-color-scheme: dark)",o.content="dark light")}s?(t=Array.from(s.cssRules).find(function(e){return e.media&&/color-scheme:\s*dark/i.test(e.media.mediaText)}))&&(d("hw-appearance-container").hidden=!1,n=d("hw-appearance"),o=d("meta-color-scheme"),i=window.matchMedia&&"not all"!==window.matchMedia("(prefers-color-scheme)").media,
r="hw-appearance",l(a=localStorage.getItem(r)||"auto"),i?(n.querySelector("[name=hw-appearance][value=auto]").parentNode.hidden=!1,n.querySelector("[name=hw-appearance][value="+a+"]").checked=!0):(/(light|dark)/i.test(a)||(a="light"),n.querySelector('[name=hw-appearance][value="'+a+'"]').checked=!0),n.onclick=function(){var e=n.querySelector("[name=hw-appearance]:checked").value;localStorage.setItem(r,e),l(e)}):setTimeout(e,1e3)}()},e.hw=T,ruto.config({before:function(e,t){T.hideAllViews()
;var n=d("view-"+t);n.classList.remove("hidden"),T.currentView=t,T.setTitle(n.querySelector("header h1").textContent)},notfound:function(){ruto.go("/")}}).add("/","home").add("/about","about").add(/^\/item\/(\d+)$/i,"comments",function(e,t){T.comments.render(t)})}(window),function(n){function l(e,t,n){for(var o=0;o<a;o++)i[o]||(t=t.toLowerCase()),e.addEventListener(i[o]+t,n,!1)}function c(e,t,n){for(var o=0;o<a;o++)i[o]||(t=t.toLowerCase()),e.removeEventListener(i[o]+t,n,!1)}function u(e){
var t=e.in,n=e.out,o=t.classList,i=n.classList,r=e.direction,a=f[r],s=function(){i.add("hidden"),i.remove(a[0]),o.remove(a[1]),c(t,"AnimationEnd",s)};l(t,"AnimationEnd",s),o.remove("hidden"),o.add(a[1]),i.add(a[0])}function d(e){var t,n=e.in,o=e.out,i=n.classList,r=o.classList;"up"==e.direction?(r.add("no-pointer"),i.remove("hidden"),i.add("slide-up")):(l(o,"AnimationEnd",t=function(){r.remove("slide-down"),r.add("hidden"),i.remove("no-pointer"),c(o,"AnimationEnd",t)}),r.remove("slide-up"),
r.add("slide-down"))}function t(){return 736<(e.offsetWidth||n.innerWidth)?"wide":"narrow"}var r=n.document,e=r.body,i=["webkit","moz","MS","o",""],a=i.length,f={rtl:["slide-out-to-left","slide-in-from-right"],ltr:["slide-out-to-right","slide-in-from-left"]},o=r.querySelector("meta[name=viewport]");o||((o=r.createElement("meta")).name="viewport",r.head.appendChild(o)),o.content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0";var p="wide"==t()
;n.addEventListener("resize",function(){var e="wide"==t();e!=p&&(p=e,location.reload())}),p&&e.insertAdjacentHTML("beforeend",'<div id="overlay" class="hide"></div>');var m=!1;document.addEventListener("touchstart",function(e){var t=e.targetTouches[0].clientX;(t<20||t>window.innerWidth-20)&&(m=!0)}),document.addEventListener("touchend",function(e){m=!1}),ruto.config({before:function(e,t,n){var o,i,r=hw.previousView=hw.currentView,a=hw.currentView=t,s=hw.hideAllViews,l=$("view-"+a);switch(
hw.setTitle(l.querySelector("header h1").textContent),a){case"home":p?(s(),$("overlay").classList.add("hide"),l.classList.remove("hidden"),(o=$("view-comments")).classList.remove("hidden"),o.querySelector("section").innerHTML='<div class="view-blank-state"><div class="view-blank-state-text">No Story Selected.</div></div>',o.querySelector("header h1").innerHTML="",o.querySelector("header a.header-back-button").style.display="none",hw.comments.currentID=null,hw.pub("selectCurrentStory")
):"comments"!=r||m?"about"!=r||m?(s(),l.classList.remove("hidden")):d({in:l,out:$("view-"+r),direction:"down"}):u({in:l,out:$("view-"+r),direction:"ltr"});break;case"about":p?(l.classList.remove("hidden"),$("view-home").classList.remove("hidden"),$("view-comments").classList.remove("hidden"),setTimeout(function(){$("overlay").classList.remove("hide")},1)):"home"!=r||m?(s(),$("view-home").classList.remove("hidden"),l.classList.remove("hidden")):d({in:l,out:$("view-"+r),direction:"up"});break
;case"comments":p?(s(),$("overlay").classList.add("hide"),l.classList.remove("hidden"),$("view-home").classList.remove("hidden"),hw.pub("selectCurrentStory",n[1]),l.querySelector("header a.header-back-button").style.display=""):"home"!=r||m?(s(),l.classList.remove("hidden")):((i=n[1])&&hw.comments.currentID!=i&&(l.querySelector("section").scrollTop=0),u({in:l,out:$("view-"+r),direction:"rtl"}))}}}),n.addEventListener("pagehide",function(){for(var e=r.querySelectorAll(".view"),t={},n=0,
o=e.length;n<o;n++){var i=e[n];t[i.id]=i.querySelector(".scroll section").scrollTop||0}amplify.store("hacker-scrolltops",t)},!1);function s(){var e=amplify.store("hacker-scrolltops");for(var t in e){$(t).querySelector(".scroll section").scrollTop=e[t]}}n.addEventListener("pageshow",s,!1),s(),tappable(".view>header a.header-button[href]",{noScroll:!0,onTap:function(e,t){var n=t.hash;p&&/about/i.test(ruto.current)&&"#/"==n?ruto.back("/"):location.hash=n}}),tappable("#view-home-refresh",{
noScroll:!0,onTap:hw.news.reload});var h,v=!1;tappable(".view>header h1",{onTap:function(e,t){var o,i=t.parentNode.nextElementSibling.firstElementChild;0==i.scrollTop||v||v||(v=!0,o=i.style.overflow,i.style.overflow="hidden",setTimeout(function(){i.style.overflow=o;var e=new TWEEN.Tween({scrollTop:i.scrollTop}).to({scrollTop:0},300).easing(TWEEN.Easing.Cubic.InOut).onUpdate(function(){i.scrollTop=this.scrollTop}).onComplete(function(){cancelAnimationFrame(n),e.stop(),v=!1,delete e}).start(),
t=function(){TWEEN.update(),requestAnimationFrame(t)},n=requestAnimationFrame(t)},200))}}),tappable("#view-home .tableview-links li>a:first-child",{allowClick:!p,activeClassDelay:100,inactiveClassDelay:p?100:1e3,onStart:function(e,t){var n;!p||(n=t.parentNode)&&(n=n.parentNode,h=setTimeout(function(){n&&n.classList.add("list-tapped")},100))},onMove:function(){p&&clearTimeout(h)},onEnd:function(e,t){var n;p&&(clearTimeout(h),n=t.parentNode.parentNode,setTimeout(function(){n&&n.classList.remove(
"list-tapped")},100))},onTap:function(e,t){t.classList.contains("more-link")?hw.news.more(t):/^#\//.test(t.getAttribute("href"))?location.hash=t.hash:t.href&&p&&n.open(t.href)}}),tappable("#view-about .grouped-tableview-links li>a:first-child",{allowClick:!0,activeClassDelay:100,inactiveClassDelay:1e3}),tappable("#view-home .tableview-links li>a.detail-disclosure-button",{noScroll:!0,noScrollDelay:100,onTap:function(e,t){"comments"!=hw.currentView&&(location.hash=t.hash)}}),tappable(
"button.comments-toggle",function(e,t){hw.comments.toggle(t)}),tappable("#view-comments .load-error button",hw.comments.reload),hw.sub("selectCurrentStory",function(e){if(p){e=e||(location.hash.match(/item\/(\d+)/)||[,""])[1];for(var t,n=$("view-home"),o=n.querySelectorAll("a[href].selected"),i=0,r=o.length;i<r;i++)o[i].classList.remove("selected");!e||(t=n.querySelector('a[href*="item/'+e+'"]'))&&(t.classList.add("selected"),setTimeout(function(){
t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded():t.scrollIntoView()},1))}}),hw.sub("onRenderNews",function(){hw.pub("selectCurrentStory")}),n.addEventListener("pageshow",function(){setTimeout(function(){"home"==hw.currentView&&$("hwlist")&&!amplify.store("hacker-news-cached")&&hw.news.reload()},1)},!1),p&&setTimeout(function(){$("view-about").classList.add("animated")},400),hw.news.options.disclosure=!p,hw.init()}(window);
//# sourceMappingURL=hw-ios-2.min.js.map